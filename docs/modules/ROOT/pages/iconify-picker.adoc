= Iconify Picker Plugin: Technical Documentation
:description: Architectural overview and integration guide for the Strapi Iconify Picker.
:imagesdir: ../assets/images

The `dls-iconify-picker` is a Strapi v5 plugin designed to provide a highly performant and scalable icon selection interface. This document outlines the system architecture, data models, and integration flows.

== System Architecture

The plugin operates as a custom field provider within the Strapi Admin panel, communicating with a dedicated backend service that interfaces with the Iconify library.

=== Component Class Diagram

The following diagram illustrates the relationship between the clean Admin components and the Server-side logic.

[mermaid]
----
classDiagram
    subgraph Admin_Panel [Admin Interface]
        class IconifyPickerInput {
            -string selectedCollection
            -string search
            -int page
            +render()
            +handleSearch()
        }
        class IconPreviewPanel {
            +displayIcons()
            +handlePagination()
        }
        class PaginationFooter {
            +renderControls()
        }
        IconifyPickerInput --> PaginationFooter
        IconifyPickerInput --> IconPreviewPanel : optional usage
    end

    subgraph Server_API [Strapi Backend]
        class IconifyController {
            +getCollections()
            +getIcons(prefix, limit, offset)
        }
        class IconifyService {
            +fetchCollections()
            +searchIcons(query)
        }
    end

    IconifyPickerInput ..> IconifyController : REST Request
    IconifyController --> IconifyService : Delegate
----

== Interaction Flow

=== User Selection Sequence

The process of selecting an icon involves a dynamic interaction between the client-side React component and the Strapi server.

[mermaid]
----
sequenceDiagram
    actor User
    participant Frontend as IconifyPickerInput
    participant API as Strapi API
    participant Service as Iconify Service

    User->>Frontend: Select Collection (e.g., "solar")
    Frontend->>API: GET /icons/solar?limit=100
    API->>Service: getIcons("solar")
    Service-->>API: Returns Icon List
    API-->>Frontend: JSON Response
    Frontend->>Frontend: Render Grid
    User->>Frontend: Types Search "box"
    Frontend->>API: GET /icons/solar?q=box
    API-->>Frontend: Filtered Results
    User->>Frontend: Select Icon
    Frontend->>Frontend: Update Field Value (JSON)
----

== Data Model (ER Diagram)

The plugin does not create a new database table. Instead, it utilizes Strapi's JSON field type to store a structured object within your existing Content Types.

[mermaid]
----
erDiagram
    ContentType ||--o{ IconField : contains
    IconField {
        string prefix "Collection ID (e.g., solar)"
        string icon "Icon Name (e.g., box-bold)"
        string value "Full ID (e.g., solar:box-bold)"
    }
----

== Integration Architecture

Integrating the plugin into a Strapi project requires registration in the plugin configuration.

[mermaid]
----
flowchart LR
    Config[config/plugins.ts] -->|Enables| Plugin[dls-iconify-picker]
    Plugin -->|Registers| CustomField[Custom Field: iconify-picker]
    ContentTypeBuilder -->|Selects| CustomField
    API -->|Serves| Assets[Iconify Json Data]
----

== Configuration

Configure the available collections to govern the design system usage.

[source,typescript]
----
// config/plugins.ts
export default () => ({
  'dls-iconify-picker': {
    enabled: true,
    config: {
      // Future: Add specific collection allow/deny lists here
    },
  },
});
----

== Screenshots

=== Configuration Panel
image::strapi-iconify-picker-configuration.png[Configuration Screen]

=== Usage Interface
image::strapi-iconify-picker-usage.png[Usage Interface]
